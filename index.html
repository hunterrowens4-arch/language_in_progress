<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Language In Progress</title>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
<link rel='stylesheet' type='text/css' href='style.css'>

</head>

<body>

  <header>
    <h1>Language in Progress</h1>
    <p>Not fluent? Neither am I - Let's make language learning less confusing.<br><br>Hi, I'm Hunter. I've been fascinated with foreign languages for a few years now, and am learning Spanish, Japanese, and Russian. In my time learning languages, I've realized it can be confusing - even for things that seem simple.<br>This is my public study log: I share what trips me up, what finally clicks, and the tools and techniques that help me practice. I won't make you fluent, but I'll make it less confusing.</p>
  </header>

  <div class='main-content'>

    <section class='logs-container'>

      <h2>Newest Logs</h2>

      <div class='log-filters'>
        <button class='active lang-all' data-lang='all'>All</button>
        <button class='lang-gen' data-lang='gen'>General</button>
        <button class='lang-spa' data-lang='spa'>Spanish</button>
        <button class='lang-jap' data-lang='jap'>Japanese</button>
        <button class='lang-rus' data-lang='rus'>Russian</button>
      </div>

      <article class='log-card' data-lang='gen'>
        <h3><a href='im_not_fluent.html'>I'm Not Fluent - I'm Just Logging What Clicks</a></h3>
        <time datetime='2026-01-29'>January 29, 2026</time>
        <span class='lang-label lang-gen'>General</span>
        <p class='excerpt'>I didn't always like languages, and I'm definitely not fluent. This is the story of starting over, getting stuck, and figuring things out as I go.</p>
        <a href='im_not_fluent.html'><button class='read-log'>Read Full Log</button></a>
      </article>
      <article class='log-card' data-lang='gen'>
        <h3><a href='from_chaos_to_cards.html'>From Chaos to Cards</a></h3>
        <time datetime='2026-02-09'>February 9, 2026</time>
        <span class='lang-label lang-gen'>General</span>
        <p class='excerpt'>I wasn't understanding much of what I heard - so I started capturing it. This log is about turning scattered immersion into structured learning.</p>
        <a href='from_chaos_to_cards.html'><button class='read-log'>Read Full Log</button></a>
      </article>

    </section>

    <section class='resources-container'>

      <h2>Resources</h2>

      <div class='resource-filters'>
        <button class='active lang-all' data-res='all'>All</button>
        <button class='lang-gen' data-res='gen'>General</button>
        <button class='lang-spa' data-res='spa'>Spanish</button>
        <button class='lang-jap' data-res='jap'>Japanese</button>
        <button class='lang-rus' data-res='rus'>Russian</button>
      </div>

      <div class='resource' data-res='rus'>
        <h3><a href='https://youtube.com/playlist?list=PLyeD0S2WQHeyUH-1eL2h3ZccHtCcqDxK9&si=gYOBxgq88fXeNB-Q' target='_blank'>Russian Music Playlist</a></h3>
        <time datetime='2026-02-09'>Updated February 9, 2026</time>
        <span class='lang-label lang-rus'>Russian</span>
      </div>

    </section>

  </div>

  <script>

    document.addEventListener("DOMContentLoaded", () => {
      let activeFilters = { lang: "all" };

      const filterButtons = Array.from(document.querySelectorAll(".log-filters button"));
      const cards = Array.from(document.querySelectorAll(".log-card"));

      function applyFilters() {
        const { lang } = activeFilters;
        const showAll = !lang || lang === "all";

        let visibleCount = 0;

        cards.forEach(card => {
          const cardLang = (card.dataset.lang || "").toLowerCase();
          const show = showAll || cardLang === lang;

          card.classList.toggle("hidden", !show);
          if (show) visibleCount++;
        });

        // Update aria-pressed for accessibility
        filterButtons.forEach(btn => {
          const pressed = btn.dataset.lang === lang || (showAll && btn.dataset.lang === "all");
          btn.setAttribute("aria-pressed", pressed ? "true" : "false");
        });

        // Optional: you can handle empty state here
        // document.body.classList.toggle('no-results', visibleCount === 0);
      }

      filterButtons.forEach(button => {
        button.addEventListener("click", () => {
          // Toggle active class
          filterButtons.forEach(btn => btn.classList.remove("active"));
          button.classList.add("active");

          // Update filter state (use the correct key: lang)
          activeFilters.lang = (button.dataset.lang || "").toLowerCase();

          // Apply filters
          applyFilters();
        });
      });

      // Initial render
      applyFilters();
    });

  document.addEventListener('DOMContentLoaded', () => {
    // Initialize filtering for each resource filter block on the page
    document.querySelectorAll('.resource-filters').forEach(setupResourceFilter);
  
    function setupResourceFilter(filterBlock) {
      // Scope items to the same section/container as the filter block
      const section = filterBlock.closest('section') || document;
      const buttons = Array.from(filterBlock.querySelectorAll('button'));
      const items = Array.from(section.querySelectorAll('.resource'));

      // Determine initial active from the .active button or default to 'all'
      let activeValue = (
        buttons.find(b => b.classList.contains('active'))?.dataset.res ||
        buttons.find(b => b.classList.contains('active'))?.dataset.filter ||
        'all'
      ).toLowerCase();

      function getButtonValue(btn) {
        // Prefer data-res, fallback to data-filter
        const val = (btn.dataset.res || btn.dataset.filter || '').toLowerCase().trim();
        return val || 'all';
      }

      function applyFilters() {
        const showAll = !activeValue || activeValue === 'all';
        let visibleCount = 0;

        items.forEach(item => {
          const itemRes = (item.dataset.res || '').toLowerCase().trim();
          const show = showAll || itemRes === activeValue;

          // Toggle hidden class
          item.classList.toggle('hidden', !show);
          if (show) visibleCount++;
        });

        // Update button states (visual + accessibility)
        buttons.forEach(btn => {
          const isActive = getButtonValue(btn) === activeValue || (showAll && getButtonValue(btn) === 'all');
          btn.classList.toggle('active', isActive);
          btn.setAttribute('aria-pressed', isActive ? 'true' : 'false');
        });

        // Optional: section-level empty state
        // section.classList.toggle('no-resource-results', visibleCount === 0);
      }

      // Bind events
      buttons.forEach(btn => {
        btn.addEventListener('click', () => {
          activeValue = getButtonValue(btn);
          applyFilters();
        });
      });

      // Initial render
      applyFilters();
    }
  });

  </script>

</body>
</html>
